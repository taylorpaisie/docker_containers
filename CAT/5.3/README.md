# CAT

This image implements:
* [CAT v5.3](https://github.com/dutilh/CAT)

It can be accessed at [docker hub](https://hub.docker.com/u/tpaisie).

Contig Annotation Tool (CAT) and Bin Annotation Tool (BAT) are pipelines for the taxonomic classification of long DNA sequences and metagenome assembled genomes (MAGs / bins) of both known and (highly) unknown microorganisms, as generated by contemporary metagenomics studies. The core algorithm of both programs involves gene calling, mapping of predicted ORFs against a protein database, and voting-based classification of the entire contig / MAG based on classification of the individual ORFs. CAT and BAT can be run from intermediate steps if files are formated appropriately.

## WARNING: CAT needs a large database to run 

In order to run CAT/BAT, the NCBI or GTDB database must be downloaded.  Both these databases are very large.  These tests to run the CAT Docker image 

## Example analysis

Downloads whole genome sequence of *Burkholderia psuedomallei* and a set of MAGs from *Gracilibacteria*

Get test data:
```
# Download test data
wget -nv --no-check-certificate https://raw.githubusercontent.com/taylorpaisie/docker_containers/main/checkm2/1.0.2/burk_wgs.fa -O burk_wgs_pos_ctrl.fa

wget -nv --no-check-certificate https://merenlab.org/data/refining-mags/files/GN02_MAG_IV_B_1-contigs.fa -O GN02_MAG_IV_B_1-contigs.fa
```

Use CAT and BAT for taxonomic classification for both best datasets:
```
# Running CAT on contigs
CAT contigs -c burk_wgs_pos_ctrl.fa \
    -d /$LAB_HOME/.databases/CAT/20231120_CAT_nr/db \
    -t /$LAB_HOME/.databases/CAT/20231120_CAT_nr/tax

# Running BAT on a set of MAGs
CAT bins -b GN02_MAG_IV_B_1-contigs.fa \
    -d /$LAB_HOME/.databases/CAT/20231120_CAT_nr/db \
    -t /$LAB_HOME/.databases/CAT/20231120_CAT_nr/tax
```
